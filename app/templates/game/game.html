{% extends "base.html" %}
{% block content %}
    <h1>Game {{ game.id }}</h1>

    <h2>Debug Stats</h2>

    <table border="1">
        <tr>
            <td width="20%">Start deck</td>
            <td>{{ game.start_deck }}</td>
        </tr>
        <tr>
            <td>User cards</td>
            <td>
                {% for user in game.users %}
                    User: {{ user.name }}, {{ game.get_cards_of_user(user) }}<br/>
                {% endfor %}
            </td>
        </tr>
        <tr>
            <td>Current turn number:</td>
            <td>{{ game.current_turn_number }}</td>
        </tr>
        <tr>
            <td>Number of Failures:</td>
            <td>{{ game.current_number_of_failures }}/{{ game.start_failures }}</td>
        </tr>
        <tr>
            <td>Number of Hints:</td>
            <td>{{ game.current_number_of_hints}}/{{ game.start_hints }}</td>
        </tr>
        <tr>
            <td>Current game state:</td>
            <td>{{ game.state_string }}</td>
        </tr>
        <tr>
            <td>Current user:</td>
            <td>{{ game.current_user.name }}</td>
        </tr>
        <tr>
            <td>Next card:</td>
            <td>{{ game.next_card }}</td>
        </tr>
        <tr>
            <td>Played turns:</td>
            <td>
                {% for turn in game.played_turns %}
                   {{ turn }}<br/>
                {% endfor %}
            </td>
        </tr>
        <tr>
            <td>Possible turns:</td>
            <td>
                {% set turn_id = 0 %}
                {% for turn in game.get_possible_turns(game.current_user) %}
                   <a href="{{ url_for("game.make_turn", game_id=game.id, turn_id=turn_id) }}">{{ turn }}<p/>
                    {% set turn_id = turn_id + 1 %}
                {% endfor %}
            </td>
        </tr>
    </table>

    <h2>Game Stats</h2>
    <a href="{{ url_for("game.start_game", id=game.id) }}">Start game</a>
{% endblock %}